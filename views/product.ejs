<% layout('layouts/productheader') %>
    <link rel="stylesheet" type="text/css"
        href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
    <style>
        .rating {
            display: inline-block;
        }

        .rating input {
            display: none;
        }

        .rating label {
            float: right;
            cursor: pointer;
            color: #ccc;
            transition: color 0.3s;
        }

        .rating label:before {
            content: '\2605';
            font-size: 30px;
        }

        .rating input:checked~label,
        .rating label:hover,
        .rating label:hover~label {
            color: #6f00ff;
            transition: color 0.3s;
        }

        .card__wrapper {

            margin-top: 20px;
        }

        .card-text {
            margin-bottom: 50px;
        }

        @media screen and (max-width: 300px) and (max-height: 700px) {
            .checkbox-wrapper label {
                --size: 30px;
                --shadow: calc(var(--size) * .07) calc(var(--size) * .1);
                position: relative;
                display: block;
                width: var(--size);
                height: var(--size);
                margin: 20px 10px;

                border-radius: 50%;
                box-shadow: 0 var(--shadow) #ffbeb8;
                cursor: pointer;
                transition: 0.2s ease transform, 0.2s ease background-color,
                    0.2s ease box-shadow;
                overflow: hidden;
                z-index: 1;
            }

            #orderproduct {
                width: 120px;
                height: 40px;
                margin-right: 1px;
                font-size: 12px;
            }

            #price {
                margin-left: 0px;
                font-size: 15px;
            }

            #picturediv {
                max-width: 100%;
                max-height: 350px;
                overflow: hidden;
                position: relative;
                padding-top: 0;
                margin-bottom: 20px;

            }

            /* Style the image inside the container */
            #picturediv img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                object-position: center center;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            }

            h4 {
                margin-top: 20px;
                margin-bottom: 20;

            }

            /* Style the main card div */
            .card {
                max-width: 100%;
                /* Optionally, you can set a max-height for the card if needed */
                /* max-height: 400px; */

                margin-bottom: 20px;
                overflow: hidden;
                /* Prevent content from exceeding card boundaries */
            }

            /* Ensure that the card body is contained within the card */
            .card-body {
                padding: 15px;
                /* Add padding to separate content from the edges */
            }

            .card .card-bottom {

                padding-left: 20.5px;
                padding-right: 15px;

            }

            .card__wrapper {
                margin-top: 10px;
            }

            .checkbox-wrapper {
                margin-left: -10px;
            }
        }

        /* CSS for screens with a width between 320px and 420px and a max height of 900px 
@media screen and (min-width: 320px) and (max-width: 420px) and (max-height: 900px) {
    /* Your CSS styles for this screen size range */
        /* ... pop up */
    </style>
    <div class="d-flex justify-content-center align-items-center selka">
        <form action="/product/<%= candy._id %>" method="post" class="w-100">
            <div class="justify-content-center align-items-center container-fluid py-5">
                <div class="justify-content-center align-items-center container py-5">
                    <div class="justify-content-center align-items-center row">
                        <div class="justify-content-center align-items-center card mb-2" style="max-width: 800px;">
                            <div class="row no-gutters">
                                <div class="col-md-4" id="picturediv">
                                    <img src="<%= candy.picture %>" class="card-img" id="picture" alt="...">
                                </div>
                                <div class="col-md-8 ">
                                    <div class="card-body card-bottom">
                                        <input type="hidden" name="title" value="<%=candy.title %>">
                                        <h2 class="font-weight-bold mb-3" id="title" style="color: #F195B2;">
                                            <%= candy.title %> <br>

                                        </h2>

                                        <p>Discover the exquisite beauty of our Ilhem Candle Collection. Whether you're
                                            selecting our elegant candles, handcrafted excellence, nationwide delivery,
                                            vibrant color selection, or premium materials, you're choosing the finest in
                                            the market.</p>




                                        <h4 class="font-weight-bold mb-3">Choose your color: </h4>
                                        <div class="checkbox-wrapper">
                                            <input id="_checkbox-1" type="checkbox" colorname="red" name="color"
                                                value="">
                                            <label for="_checkbox-1" class="red">
                                                <div class="tick_mark"></div>
                                            </label>

                                            <input id="_checkbox-2" type="checkbox" colorname="purpel" name="color"
                                                value="">
                                            <label for="_checkbox-2" class="purpel">
                                                <div class="tick_mark"></div>
                                            </label>

                                            <input id="_checkbox-3" type="checkbox" colorname="green" name="color"
                                                value="">
                                            <label for="_checkbox-3" class="green">
                                                <div class="tick_mark"></div>
                                            </label>
                                            <input id="_checkbox-4" type="checkbox" colorname="brown" name="color"
                                                value="">
                                            <label for="_checkbox-4" class="brown">
                                                <div class="tick_mark"></div>
                                            </label>
                                            <input id="_checkbox-5" type="checkbox" colorname="pink" name="color"
                                                value="">
                                            <label for="_checkbox-5" class="pink">
                                                <div class="tick_mark"></div>
                                            </label>
                                            <input id="_checkbox-6" type="checkbox" colorname="white" name="color"
                                                value="">
                                            <label for="_checkbox-6" class="white">
                                                <div class="tick_mark"></div>
                                            </label>
                                            <input id="_checkbox-7" type="checkbox" colorname="beige" name="color"
                                                value="">
                                            <label for="_checkbox-7" class="beige">
                                                <div class="tick_mark"></div>
                                            </label>
                                            <input type="hidden" name="colors" value="">
                                            <!-- Repeat for other checkboxes -->
                                        </div>
                                        <div class="card__wrapper">
                                            <div class="card__counterr">


                                                <div class="card__counter-scorer font-weight-bold " id="price">
                                                    <%= candy.price%> DA
                                                </div>

                                            </div>
                                            <div class="card__price">
                                                <button class="btn btn-primary mt-2" type="submit" id="orderproduct">Add
                                                    to cart
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>




    <!-- <script src="lib/lightbox/js/lightbox.min.js"></script> -->

    <!-- Contact Javascript File -->



    <!-- Template Javascript -->

    <script>

        const colors = document.querySelectorAll('input[type="checkbox"]')
        const colorchosen = document.querySelector('input[name="colors"]')
        let colorschosen = 0;

        const button = document.getElementById('orderproduct')
        colors.forEach(color => {
            if (colorschosen === 0) {
                button.disabled = true;
            }
            else {
                button.disabled = false
            }


            color.addEventListener("change", function () {

                if (this.checked) {

                    this.setAttribute('value', color.getAttribute('colorname'));
                    console.log(this.getAttribute('value'))
                    colorschosen++;


                }
                else {

                    this.setAttribute('value', "");
                    colorschosen--;

                }
                if (colorschosen === 0) {
                    button.disabled = true;
                }
                else {
                    button.disabled = false
                }
            })

        })




    </script>
    <!-- About End -->